<div class="card dua-card border-0 shadow-sm">
    <div class="card-body p-4">
        <h3 class="card-title dua-title h4 fw-bold">
            {{ dua.title }}
        </h3>
        
        <div class="dua-text mb-4" lang="ar" dir="rtl">
            {{ dua.text }}
        </div>
        
        <!-- Translation Section -->
        <div class="mb-4" id="translation-section-{{ dua.id }}">
            <button class="btn btn-outline-primary btn-sm d-flex align-items-center" 
                    type="button" 
                    hx-get="{% url 'dua_collection:dua_translations' dua.id %}?action=show"
                    hx-target="#translation-section-{{ dua.id }}"
                    hx-swap="outerHTML">
                <i class="fas fa-language me-2"></i>
                <span>View Translations</span>
                <i class="fas fa-chevron-down ms-2"></i>
            </button>
        </div>
        
        <div class="row">
            <div class="col-md-8 mb-3">
                {% if dua.tags.all %}
                    <div class="mb-2">
                        <small class="text-muted fw-semibold">Tags:</small>
                        <div class="mt-1">
                            {% for tag in dua.tags.all %}
                                {% if tag.id in selected_tag_ids %}
                                    <span class="badge bg-primary text-white tag-badge">
                                        <i class="fas fa-tag me-1"></i>{{ tag.name }}
                                        <a href="?{% for other_tag in selected_tags %}{% if other_tag.id != tag.id %}tags={{ other_tag.id }}&{% endif %}{% endfor %}{% if request.GET.page %}page={{ request.GET.page }}&{% endif %}" 
                                           class="text-white ms-1 text-decoration-none" 
                                           style="font-weight: bold;"
                                           title="Remove filter">
                                            Ã—
                                        </a>
                                    </span>
                                {% else %}
                                    <a href="?{% for param_name, param_value in request.GET.items %}{% if param_name != 'page' %}{{ param_name }}={{ param_value }}&{% endif %}{% endfor %}tags={{ tag.id }}" 
                                       class="badge bg-light text-dark tag-badge border text-decoration-none">
                                        <i class="fas fa-tag me-1"></i>{{ tag.name }}
                                    </a>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}
            </div>
            
            <div class="col-md-4 text-md-end">
                {% if dua.source %}
                    <a href="{{ dua.source }}" class="source-link" target="_blank" rel="noopener noreferrer">
                        View Source
                        <i class="fas fa-external-link-alt ms-1"></i>
                    </a>
                {% endif %}
            </div>
        </div>
    </div>
</div>